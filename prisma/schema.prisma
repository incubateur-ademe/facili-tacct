generator client {
  provider        = "prisma-client-js"
  output          = "../src/generated/client"
  previewFeatures = ["multiSchema"]
  binaryTargets   = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("SCALINGO_POSTGRESQL_URL")
  schemas  = ["databases", "postgis"]
}

model inconfort_thermique {
  index                    BigInt @id
  code_geographique        String
  libelle_geographique     String
  epci                     String
  libelle_epci             String
  departement              String
  region                   Int
  age_bati_post06          Float?
  age_bati_91_05           Float?
  age_bati_46_90           Float?
  age_bati_19_45           Float?
  age_bati_pre_19          Float?
  under_4_sum_1968         Float?
  to_80_sum_1968           Float? @map("4_to_80_sum_1968")
  over_80_sum_1968         Float?
  under_4_sum_1975         Float?
  to_80_sum_1975           Float? @map("4_to_80_sum_1975")
  over_80_sum_1975         Float?
  under_4_sum_1982         Float?
  to_80_sum_1982           Float? @map("4_to_80_sum_1982")
  over_80_sum_1982         Float?
  under_4_sum_1990         Float?
  to_80_sum_1990           Float? @map("4_to_80_sum_1990")
  over_80_sum_1990         Float?
  under_4_sum_1999         Float?
  to_80_sum_1999           Float? @map("4_to_80_sum_1999")
  over_80_sum_1999         Float?
  under_4_sum_2009         Float?
  to_80_sum_2009           Float? @map("4_to_80_sum_2009")
  over_80_sum_2009         Float?
  under_4_sum_2014         Float?
  to_80_sum_2014           Float? @map("4_to_80_sum_2014")
  over_80_sum_2014         Float?
  under_4_sum_2020         Float?
  to_80_sum_2020           Float? @map("4_to_80_sum_2020")
  over_80_sum_2020         Float?
  P20_POP80P               Float?
  P20_POP80P_PSEUL         Float?
  P20_POP80P_PSEUL_PERCENT Float?
  tee_log                  Float?
  tee_mob                  Float?
  precarite_logement       Float?
  NA5AZ_sum                Float?
  NA5BE_sum                Float?
  NA5FZ_sum                Float?
  NA5GU_sum                Float?
  NA5OQ_sum                Float?
  superf_choro             Float?
  s_geom_cstr_bati         Float?
  hauteur                  Float?
  h_x_s                    Float?
  densite_bati             Float?
  clc_2_agricole           Float?
  clc_3_foret_semiNaturel  Float?
  clc_4_humide             Float?
  clc_5_eau                Float?
  clc_1_artificialise      Float?

  @@index([index], map: "ix_inconfort_thermique_index")
  @@schema("databases")
}

model clc_epci {
  pk        Int                      @id @default(autoincrement())
  legend    String?                  @db.VarChar
  epci_code Int?
  geometry  Unsupported("geometry")?

  @@index([geometry], map: "clc_epci_geometry_geom_idx", type: Gist)
  @@schema("postgis")
}

model communes {
  pk                 Int                      @id @default(autoincrement())
  code_commune       String?                  @db.VarChar
  libelle_commune    String?                  @db.VarChar
  epci               String?                  @db.VarChar
  libelle_epci       String?                  @db.VarChar
  libgeo             String?                  @db.VarChar
  coordinates        String?                  @db.VarChar
  densite_bati       Float?
  precarite_logement Float?
  geometry           Unsupported("geometry")?

  @@index([geometry], map: "communes_geometry_geom_idx", type: Gist)
  @@schema("postgis")
}

model collectivites_searchbar {
  index           BigInt  @id
  code_commune    String?
  coordinates     String?
  libelle_commune String?
  code_epci       String
  libelle_epci    String
  departement     String
  region          String
  search_code     String
  search_libelle  String

  @@index([index], map: "ix_collectivites_searchbar_index")
  @@schema("databases")
}

model biodiversite {
  index                BigInt  @id
  code_geographique    String?
  type_touristique     String?
  libelle_geographique String?
  epci                 String?
  libelle_epci         String?
  departement          String?
  region               Float?

  @@index([index], map: "ix_biodiversite_index")
  @@schema("databases")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model spatial_ref_sys {
  srid      Int     @id
  auth_name String? @db.VarChar(256)
  auth_srid Int?
  srtext    String? @db.VarChar(2048)
  proj4text String? @db.VarChar(2048)

  @@schema("postgis")
}

model gestion_risques {
  index                BigInt  @id
  code_geographique    String?
  lib_risque_jo        String?
  dat_pub_arrete       String?
  libelle_geographique String?
  epci                 String?
  libelle_epci         String?
  departement          String?
  region               Float?

  @@index([index], map: "ix_gestion_risques_index")
  @@schema("databases")
}

model communes_drom {
  pk                 Int                     @id @default(autoincrement())
  code_commune       String                  @db.VarChar
  libelle_commune    String                  @db.VarChar
  epci               String                  @db.VarChar
  libelle_epci       String                  @db.VarChar
  coordinates        String                  @db.VarChar
  densite_bati       Float?
  precarite_logement Float?
  geometry           Unsupported("geometry")

  @@index([geometry], map: "communes_drom_geometry_geom_idx", type: Gist)
  @@schema("postgis")
}

model ressources_eau {
  index                BigInt  @id
  code_geographique    String
  LIBELLE_SOUS_CHAMP   String?
  SOUS_CHAMP           String?
  A2020                Float?
  A2019                Float?
  A2018                Float?
  A2017                Float?
  A2016                Float?
  A2015                Float?
  A2014                Float?
  A2013                Float?
  A2012                Float?
  A2011                Float?
  A2010                Float?
  A2009                Float?
  A2008                Float?
  libelle_geographique String?
  epci                 String?
  libelle_epci         String?
  departement          String?
  region               Float?

  @@index([index], map: "ix_ressources_eau_index")
  @@schema("databases")
}

model agriculture_bio {
  index              BigInt  @id
  epci               String
  libelle_epci       String
  VARIABLE           String
  LIBELLE_SOUS_CHAMP String?
  surface_2022       Float
  surface_2021       Float
  surface_2020       Float
  surface_2019       Float
  nombre_2022        Float
  nombre_2021        Float
  nombre_2020        Float
  nombre_2019        Float

  @@index([index], map: "ix_agriculture_bio_index")
  @@schema("databases")
}

model erosion_cotiere {
  pk         Int                     @id @default(autoincrement())
  taux       Float
  duree      Float
  tdc_ancien BigInt
  tdc_rec    BigInt
  geometry   Unsupported("geometry")

  @@index([geometry], map: "erosion_cotiere_geometry_geom_idx", type: Gist)
  @@schema("postgis")
}

model epci {
  pk        Int                     @id @default(autoincrement())
  epci_code String                  @db.VarChar
  geometry  Unsupported("geometry")

  @@index([geometry], map: "epci_geometry_geom_idx", type: Gist)
  @@schema("postgis")
}

model surfaces_protegees {
  index                BigInt @id
  code_geographique    String
  LIBELLE_VARIABLE     String
  SOUS_CHAMP           String
  A2019                Float
  libelle_geographique String
  epci                 String
  libelle_epci         String
  departement          String
  region               Float

  @@index([index], map: "ix_surfaces_protegees_index")
  @@schema("databases")
}

model surfaces_protegees_by_col {
  index                BigInt  @id
  code_geographique    String
  PNC                  String?
  RAMSAR               String?
  PNR                  String?
  PNP                  String?
  FOR_PRO              String?
  ZZZ                  String?
  ZNIEFF2              String?
  ZNIEFF1              String?
  RNR                  String?
  TOU_PRO              String?
  NATURA               String?
  ZPS                  String?
  SIC                  String?
  CELRL                String?
  BIO                  String?
  APB                  String?
  RN                   String?
  RBFD                 String?
  RNCFS                String?
  libelle_geographique String
  epci                 String
  libelle_epci         String
  departement          String
  region               Float

  @@index([index], map: "ix_surfaces_protegees_by_col_index")
  @@schema("databases")
}
